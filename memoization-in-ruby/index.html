<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>
      
        Memoization in ruby | Talks | Red Panthers - Experts in Ruby on Rails kochi, India
      
    </title>

    <meta name="author" content="" />
    <!-- Include Social media meta content -->
    <!-- Twitter Card data -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@redpanthershq">
<meta name="twitter:title" content="Memoization in ruby">

<meta name="twitter:creator" content="@redpanthershq">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta name="twitter:image" content="https://pbs.twimg.com/profile_banners/749964972/1438853258/1500x500">

<!-- Open Graph data -->
<meta property="og:title" content="Memoization in ruby" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.redpanthers.github.com/slides" />
<meta property="og:image" content="https://pbs.twimg.com/profile_banners/749964972/1438853258/1500x500" />

<meta property="og:site_name" content="Redpanthers Slides" />
<meta property="fb:admins" content="492016520816519" />
<meta property="fb:app_id" content="458945877638235" />


  <meta name="twitter:description" content="A presentation slide for memoization in ruby">
  <meta name="description" content="A presentation slide for memoization in ruby">
  <meta property="og:description" content="A presentation slide for memoization in ruby" />
    <!-- eof social media meta content -->
    <!-- Description -->
    
      <meta name="description" content="A presentation slide for memoization in ruby" />
    

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="/slides/reveal.js/css/reveal.css"/>
    
      <link rel="stylesheet" href="/slides/reveal.js/css/theme/black.css" id="theme"/>
    

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="/slides/reveal.js/lib/css/zenburn.css"/>
    <link rel="stylesheet" href="/slides/css/custom.css"/>


    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '/slides/reveal.js/css/print/pdf.css' : '/slides/reveal.js/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <link rel="apple-touch-icon" href="/slides/apple-touch-icon.png" />

    <link rel="canonical" href="http://slides.redpanthers.co/slides/memoization-in-ruby">

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">
      <div class="slides">
        <section data-markdown="">
# Memoization in Ruby

Feb 18, 2016
</section>

<section>
  <h4>Pooja Raghunath</h4>
  <p>
    Ruby Developer@RedPanthers
  </p>
</section>

<section data-markdown="">
### What is Memoization?

* Memoization is the process of storing a computed value to avoid duplicated work by future calls.

* Memoization can be used to initialize a variable and store it with the result of some computation that is expected to give same result if computed again.

</section>
<section data-markdown="">
### Basic memoization pattern
* Perform some work
* Store the work result
* Use stored results in future calls

</section>

<section data-markdown="">
### Types of memoization
* Single-line memoization
* Multiple-line memoization

</section>

<section>
Single-line memoization
<img alt="Jeroen De Meerleer" src="/slides/images/mem01.png" />
</section>

<section data-markdown="">
###Multiple-line memoization
Slow code won’t fit on one line without doing terrible things to it. There are a few ways to extend the basic pattern to work with multiple lines of code.

</section>

<section>
Multiple-line memoization

<img alt="Jeroen De Meerleer" src="/slides/images/memo11.png" />
</section>

<section data-markdown="">
### When to use Memoization
* When you have complex calculation that is supposed to give same result on multiple calls

* When you have a method that is giving same result over multiple calls but you need to call it multiple times

</section>

<section data-markdown="">
### When to use Memoization -- contd.
* When you have database query with same parameters for a instance

  @user_score ||= User.where(name: 'Sam').first.try(:name)


* If you need user Sam's score then you can calculate and store it. When you need again then you can just return it from the instance variable.

</section>

<section data-markdown="">
###What about nil and false in Memoization?

* Memoization technique  does not work with nil,false values.

@variable ||= false # suppose calculation value is false  

* As @variable had false value it will again go and evaluate for the OR part of condition which will come out false again.

* Thus, over multiple calls Memoization will not work if value comes out to be nil, or false.

</section>

<section data-markdown="">
### What is Lazy initialization?

Lazy initialization is delaying intialization of the object/entity until the need of it for first time.

</section>

<section>
 Lazy initialization
<img alt="Jeroen De Meerleer" src="/slides/images/lazy1.png" />


</section>

<section data-markdown="">
### Does Rails support Memoization?

* Rails had support for Memoize through ActiveSupport::Memoizable.
* Memoizable is deprecated from Rails.
* Memoist is an extraction of ActiveSupport::Memoizable.

</section>

<section data-markdown="">
### When should you memoize?

* When  duplicated database calls
* When  expensive calculations
* When  repeated calculations that don’t change


</section>
<section data-markdown="">
### When shouldn’t you memoize?

* Method that takes parameter
* Methods that uses instance variables

</section>

<section data-markdown="">
### Conclusion
* So if you’re working on an app that needs a lot of memoization, you might want to use a gem that handles memoization for you with a nice, friendly API.

* Memoist seems to be a good one, and pretty similar to what Rails used to have.

</section>

<section data-markdown="">
### References
* http://www.justinweiss.com/articles/4-simple-memoization-patterns-in-ruby-and-one-gem/
* http://rubyinrails.com/2014/11/03/memoization-ruby/
* http://gavinmiller.io/2013/basics-of-ruby-memoization/

</section>

      </div>
      <div class="pesentation-details">
        <p>Pooja Raghunath /
          <a href="https://twitter.com/" title="Follow me on Twitter"></a>
        </p>
      </div>
    </div>
    <script src="/slides/reveal.js/lib/js/head.min.js"></script>
    <script src="/slides/reveal.js/js/reveal.js"></script>
    <script>
      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        
          transition: 'slide',
        

        // Optional reveal.js plugins
        dependencies: [
          { src: '/slides/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '/slides/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '/slides/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '/slides/reveal.js/plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: '/slides/reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: '/slides/reveal.js/plugin/notes/notes.js', async: true }
        ]
      });

    </script>

  </body>
</html>
